<!DOCTYPE html>
<html>
  <head>
    <title>Page Title</title>
<style type="text/css">
.green {
  background-color: limegreen;
  width: 50px;
  height: 50px;
}
</style>
<script type="text/javascript">
</script>
  </head>
  <table cellspacing="0" cellpadding="10" border="1" style="float: left;">
          <tbody>
            <tr>
              <td class= "green" id="cell_0_0">
                <img id="img_0_0" src="" />
              </td>
              <td class= "green" id="cell_0_1">
                <img id="img_0_1" src="" />
              </td>
              <td class= "green" id="cell_0_2">
                <img id="img_0_2" src="" />
              </td>
              <td class= "green" id="cell_0_3">
                <img id="img_0_3" src="" />
              </td>
              <td class= "green" id="cell_0_4">
                <img id="img_0_4" src="" />
              </td>
              <td class= "green" id="cell_0_5">
                <img id="img_0_5" src="" />
              </td>
              <td class= "green" id="cell_0_6">
                <img id="img_0_6" src="" />
              </td>
              <td class= "green" id="cell_0_7">
                <img id="img_0_7" src="" />
              </td>
            </tr>
            <tr>
              <td class= "green" id="cell_1_0">
                <img id="img_1_0" src="" />
              </td>
              <td class= "green" id="cell_1_1">
                <img id="img_1_1" src="" />
              </td>
              <td class= "green" id="cell_1_2">
                <img id="img_1_2" src="" />
              </td>
              <td class= "green" id="cell_1_3">
                <img id="img_1_3" src="" />
              </td>
              <td class= "green" id="cell_1_4">
                <img id="img_1_4" src="" />
              </td>
              <td class= "green" id="cell_1_5">
                <img id="img_1_5" src="" />
              </td>
              <td class= "green" id="cell_1_6">
                <img id="img_1_6" src="" />
              </td>
              <td class= "green" id="cell_1_7">
                <img id="img_1_7" src="" />
              </td>
            </tr>
            <tr>
              <td class= "green" id="cell_2_0">
                <img id="img_2_0" src="" />
              </td>
              <td class= "green" id="cell_2_1">
                <img id="img_2_1" src="" />
              </td>
              <td class= "green" id="cell_2_2">
                <img id="img_2_2" src="" />
              </td>
              <td class= "green" id="cell_2_3">
                <img id="img_2_3" src="" />
              </td>
              <td class= "green" id="cell_2_4">
                <img id="img_2_4" src="" />
              </td>
              <td class= "green" id="cell_2_5">
                <img id="img_2_5" src="" />
              </td>
              <td class= "green" id="cell_2_6">
                <img id="img_2_6" src="" />
              </td>
              <td class= "green" id="cell_2_7">
                <img id="img_2_7" src="" />
              </td>
            </tr>
            <tr>
              <td class= "green" id="cell_3_0">
                <img id="img_3_0" src="" />
              </td>
              <td class= "green" id="cell_3_1">
                <img id="img_3_1" src="" />
              </td>
              <td class= "green" id="cell_3_2">
                <img id="img_3_2" src="" />
              </td>
              <td class= "green" id="cell_3_3">
                <img id="img_3_3" src="" />
              </td>
              <td class= "green" id="cell_3_4">
                <img id="img_3_4" src="" />
              </td>
              <td class= "green" id="cell_3_5">
                <img id="img_3_5" src="" />
              </td>
              <td class= "green" id="cell_3_6">
                <img id="img_3_6" src="" />
              </td>
              <td class= "green" id="cell_3_7">
                <img id="img_3_7" src="" />
              </td>
            </tr>
            <tr>
              <td class= "green" id="cell_4_0">
                <img id="img_4_0" src="" />
              </td>
              <td class= "green" id="cell_4_1">
                <img id="img_4_1" src="" />
              </td>
              <td class= "green" id="cell_4_2">
                <img id="img_4_2" src="" />
              </td>
              <td class= "green" id="cell_4_3">
                <img id="img_4_3" src="" />
              </td>
              <td class= "green" id="cell_4_4">
                <img id="img_4_4" src="" />
              </td>
              <td class= "green" id="cell_4_5">
                <img id="img_4_5" src="" />
              </td>
              <td class= "green" id="cell_4_6">
                <img id="img_4_6" src="" />
              </td>
              <td class= "green" id="cell_4_7">
                <img id="img_4_7" src="" />
              </td>
            </tr>
            <tr>
              <td class= "green" id="cell_5_0">
                <img id="img_5_0" src="" />
              </td>
              <td class= "green" id="cell_5_1">
                <img id="img_5_1" src="" />
              </td>
              <td class= "green" id="cell_5_2">
                <img id="img_5_2" src="" />
              </td>
              <td class= "green" id="cell_5_3">
                <img id="img_5_3" src="" />
              </td>
              <td class= "green" id="cell_5_4">
                <img id="img_5_4" src="" />
              </td>
              <td class= "green" id="cell_5_5">
                <img id="img_5_5" src="" />
              </td>
              <td class= "green" id="cell_5_6">
                <img id="img_5_6" src="" />
              </td>
              <td class= "green" id="cell_5_7">
                <img id="img_5_7" src="" />
              </td>
            </tr>
            <tr>
              <td class= "green" id="cell_6_0">
                <img id="img_6_0" src="" />
              </td>
              <td class= "green" id="cell_6_1">
                <img id="img_6_1" src="" />
              </td>
              <td class= "green" id="cell_6_2">
                <img id="img_6_2" src="" />
              </td>
              <td class= "green" id="cell_6_3">
                <img id="img_6_3" src="" />
              </td>
              <td class= "green" id="cell_6_4">
                <img id="img_6_4" src="" />
              </td>
              <td class= "green" id="cell_6_5">
                <img id="img_6_5" src="" />
              </td>
              <td class= "green" id="cell_6_6">
                <img id="img_6_6" src="" />
              </td>
              <td class= "green" id="cell_6_7">
                <img id="img_6_7" src="" />
              </td>
            </tr>
            <tr>
              <td class= "green" id="cell_7_0">
                <img id="img_7_0" src="" />
              </td>
              <td class= "green" id="cell_7_1">
                <img id="img_7_1" src="" />
              </td>
              <td class= "green" id="cell_7_2">
                <img id="img_7_2" src="" />
              </td>
              <td class= "green" id="cell_7_3">
                <img id="img_7_3" src="" />
              </td>
              <td class= "green" id="cell_7_4">
                <img id="img_7_4" src="" />
              </td>
              <td class= "green" id="cell_7_5">
                <img id="img_7_5" src="" />
              </td>
              <td class= "green" id="cell_7_6">
                <img id="img_7_6" src="" />
              </td>
              <td class= "green" id="cell_7_7">
                <img id="img_7_7" src="" />
              </td>
            </tr>
          </tbody>
        </table>
  </body>
</html>
<script type="text/javascript">
	var Othello = function () {
	  this.turn = "white";
		this.board = [];
		for (var i = 0; i < 8; i++) {
			this.board.push(new Array(8));
		}
		var myOthello = this;
		for (var i = 0; i < 8; i++) {
		  for (var j = 0; j < 8; j++) {
			  var cell = this.getCell(i,j);
				cell.setAttribute('x', i);
				cell.setAttribute('y', j);
				cell.addEventListener("click", function(e) {
					var x = this.getAttribute('x');
					var y = this.getAttribute('y');
					x = parseInt(x);
					y = parseInt(y);
					myOthello.handleClick(x, y);
        });
			};
		};
	};
var Piece = function (color) {
  this.color = color;
};
Othello.prototype.handleClick = function (x, y) {
	if (this.board[x][y] == null) {
		if (this.turn == "white") {
			this.board[x][y] = new Piece('white');
			this.turn = "black";
		} else {
			this.board[x][y] = new Piece('black');
			this.turn = "white";
		}
		this.checkIfFlip(x, y);
		this.render();
	} else {
		return;
	};
};
Othello.prototype.checkIfFlip = function (x, y) {
	var passedBy = [];
	var ogX = x;
	var ogY = y;
	var addX = x + 1;
	var subX = x - 1;
	var addY = y + 1;
	var subY = y - 1;
  for (var i = addX; i < 8; i++) {
	  if (this.board[i][y] != null && this.board[i][y].color == this.board[x][y].color) {
		  this.flipInBetween(passedBy, this.board[x][y].color)
		} else if (this.board[i][y] == null) {
			passedBy = [];
		  break;
		} else {
			if (this.board[i][y] != null && this.board[i][y].color != this.board[x][y].color) {
			  passedBy.push(this.board[i][y])
			}
		}
	}
  for (var i = addY; i < 8; i++) {
	  if (this.board[x][i] != null && this.board[x][i].color == this.board[x][y].color) {
		  this.flipInBetween(passedBy, this.board[x][y].color)
		} else if (this.board[x][i] == null) {
			passedBy = [];
		  break;
		} else {
			if (this.board[x][i] != null && this.board[x][i].color != this.board[x][y].color) {
			  passedBy.push(this.board[x][i])
			}
		}
	}
	for (var i = subX; i >= 0; i--) {
	  if (this.board[i][y] != null && this.board[i][y].color == this.board[x][y].color) {
		  this.flipInBetween(passedBy, this.board[x][y].color)
		} else if (this.board[i][y] == null) {
			passedBy = [];
		  break;
		} else {
			if (this.board[i][y] != null && this.board[i][y].color != this.board[x][y].color) {
			  passedBy.push(this.board[i][y])
			}
		}
	}
	for (var i = subY; i >= 0; i--) {
	  if (this.board[x][i] != null && this.board[x][i].color == this.board[x][y].color) {
		  this.flipInBetween(passedBy, this.board[x][y].color)
		} else if (this.board[x][i] == null) {
			passedBy = [];
		  break;
		} else {
			if (this.board[x][i] != null && this.board[x][i].color != this.board[x][y].color) {
			  passedBy.push(this.board[x][i])
			}
		}
	}
	for (var i = 1; x < 8 && y < 8; x++ && y++) {
		x += 1;
		y += 1;
	  if (this.board[x][y] != null && this.board[x][y].color == this.board[ogX][ogY].color) {
		  this.flipInBetween(passedBy, this.board[ogX][ogY].color)
		} else if (this.board[x][y] == null) {
			passedBy = [];
		  break;
		} else {
			if (this.board[x][y] != null && this.board[x][y].color != this.board[ogX][ogY].color) {
			  passedBy.push(this.board[x][y])
			}
		}
	}
};
Othello.prototype.flipInBetween = function (arr, color) {
  for (var i = 0; i < arr.length; i++) {
		arr[i].color = color;
	}
};
Othello.prototype.render = function () {
  for (var i = 0; i < 8; i++) {
	  for (var j = 0; j < 8; j++) {
		  if (this.board[i][j] != null) {
					var image = this.getImage(i,j)
					if (this.board[i][j].color == "white") {
						image.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a0/Circle_-_black_simple.svg/768px-Circle_-_black_simple.svg.png";
					} else if (this.board[i][j].color == "black") {
						image.src = "https://i.pinimg.com/736x/08/37/61/083761af1a3f6b02aaa022f7c0143373.jpg";
					};
					image.height = 50;
					image.width = 50;
			};
		};
	};
};
Othello.prototype.getImage = function(x, y) {
  return document.getElementById('img_' + x + '_' + y);
}
Othello.prototype.getCell = function(x, y) {
  return document.getElementById('cell_' + x + '_' + y);
}
  var othello = new Othello();
</script>
